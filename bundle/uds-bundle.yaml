kind: UDSBundle
metadata:
  name: artifactory-test
  description: A UDS bundle for deploying artifactory and it's dependencies on a development cluster
  # x-release-please-start-version
  version: 107.77.12-uds.0
  # x-release-please-end

packages:
  - name: dev-namespace
    path: ../
    ref: 0.1.0

  - name: postgres-operator
    repository: ghcr.io/defenseunicorns/packages/uds/postgres-operator
    ref: 1.10.1-uds.4-upstream
    overrides:
      postgres-operator:
        uds-postgres-config:
          variables:
            - name: POSTGRESQL
              description: "Configure postgres using CRs via the uds-postgres-config chart"
              path: postgresql

  - name: dev-secrets
    path: ../
    ref: 0.1.0

  - name: artifactory
    path: ../
    # x-release-please-start-version
    ref: 107.77.12-uds.0
    # x-release-please-end
    overrides:
      artifactory:
        artifactory:
          values:
            - path: router.resources.requests.memory
              value: "100Mi"
            - path: router.resources.requests.cpu
              value: "100m"
            - path: artifactory.resources.requests.memory
              value: "500Mi"
            - path: artifactory.resources.requests.cpu
              value: "250m"
            - path: frontend.resources.requests.memory
              value: "100Mi"
            - path: frontend.resources.requests.cpu
              value: "100m"
            - path: metadata.resources.requests.memory
              value: "100Mi"
            - path: metadata.resources.requests.cpu
              value: "100m"
            - path: event.resources.requests.memory
              value: "100Mi"
            - path: event.resources.requests.cpu
              value: "100m"
            - path: jfconnect.resources.requests.memory
              value: "100Mi"
            - path: jfconnect.resources.requests.cpu
              value: "100m"
            - path: observability.resources.requests.memory
              value: "100Mi"
            - path: observability.resources.requests.cpu
              value: "100m"